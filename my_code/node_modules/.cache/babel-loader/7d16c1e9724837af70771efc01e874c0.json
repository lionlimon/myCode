{"ast":null,"code":"import { takeEvery, put, call } from 'redux-saga/effects';\nimport { GET_USER_PROJECTS, getUserProjects } from './actions';\nimport { addNotify } from '../notify/actions';\nimport * as config from '../config';\nimport store from '../index';\n\nfunction fetchGetProjectsData(data) {\n  const USER_TOKEN = store.getState().auth.token;\n  return fetch(config.URL_PROJECT_API, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'Authorization': `Bearer ${USER_TOKEN}`\n    }\n  }).then(response => response.status == 404 || response.ok ? response.json() : Promise.reject(response)).catch(e => console.error(e));\n}\n\nfunction* workerGetProjectsData(action) {\n  const data = yield call(fetchGetProjectsData, action.payload);\n  console.log(data); // if (data.success) \t\n  //   yield put(putAuthData(data));\n  // else \n  //   yield put(putFailedAuthData(data));\n}\n\nexport function* watchGetProjectsData() {\n  yield takeEvery(GET_USER_PROJECTS, workerGetProjectsData);\n}","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/store/projects/sagas.js"],"names":["takeEvery","put","call","GET_USER_PROJECTS","getUserProjects","addNotify","config","store","fetchGetProjectsData","data","USER_TOKEN","getState","auth","token","fetch","URL_PROJECT_API","method","headers","then","response","status","ok","json","Promise","reject","catch","e","console","error","workerGetProjectsData","action","payload","log","watchGetProjectsData"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,GAAnB,EAAwBC,IAAxB,QAAmC,oBAAnC;AACA,SAAQC,iBAAR,EAA2BC,eAA3B,QAAiD,WAAjD;AACA,SAAQC,SAAR,QAAwB,mBAAxB;AACA,OAAO,KAAKC,MAAZ,MAAwB,WAAxB;AACA,OAAOC,KAAP,MAAkB,UAAlB;;AAEA,SAASC,oBAAT,CAA8BC,IAA9B,EAAoC;AAClC,QAAMC,UAAU,GAAGH,KAAK,CAACI,QAAN,GAAiBC,IAAjB,CAAsBC,KAAzC;AAEA,SAAOC,KAAK,CAACR,MAAM,CAACS,eAAR,EAAyB;AACnCC,IAAAA,MAAM,EAAE,KAD2B;AAEnCC,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB,mCAFT;AAGP,uBAAkB,UAASP,UAAW;AAH/B;AAF0B,GAAzB,CAAL,CAQJQ,IARI,CAQCC,QAAQ,IAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAnB,IAA0BD,QAAQ,CAACE,EAAnC,GAAwCF,QAAQ,CAACG,IAAT,EAAxC,GAA0DC,OAAO,CAACC,MAAR,CAAeL,QAAf,CARvE,EASJM,KATI,CASGC,CAAD,IAAOC,OAAO,CAACC,KAAR,CAAcF,CAAd,CATT,CAAP;AAWD;;AAED,UAAUG,qBAAV,CAAgCC,MAAhC,EAAwC;AAEvC,QAAMrB,IAAI,GAAG,MAAMP,IAAI,CAACM,oBAAD,EAAuBsB,MAAM,CAACC,OAA9B,CAAvB;AACCJ,EAAAA,OAAO,CAACK,GAAR,CAAYvB,IAAZ,EAHsC,CAIvC;AACC;AACA;AACA;AACD;;AAED,OAAO,UAAUwB,oBAAV,GAAiC;AACtC,QAAMjC,SAAS,CAACG,iBAAD,EAAoB0B,qBAApB,CAAf;AACD","sourcesContent":["import {takeEvery, put, call} from 'redux-saga/effects';\r\nimport {GET_USER_PROJECTS, getUserProjects} from './actions';\r\nimport {addNotify} from '../notify/actions';\r\nimport * as config from '../config';\r\nimport store from '../index';\r\n   \r\nfunction fetchGetProjectsData(data) {\r\n  const USER_TOKEN = store.getState().auth.token;\r\n\r\n  return fetch(config.URL_PROJECT_API, { \r\n    method: 'GET', \r\n    headers: {      \r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n      'Authorization': `Bearer ${USER_TOKEN}`\r\n    },\r\n  })\r\n    .then(response => response.status == 404 || response.ok ? response.json() : Promise.reject(response))\r\n    .catch((e) => console.error(e));\r\n  \r\n}\r\n\r\nfunction* workerGetProjectsData(action) {\r\n  \r\n\tconst data = yield call(fetchGetProjectsData, action.payload);\r\n  console.log(data);\r\n\t// if (data.success) \t\r\n  //   yield put(putAuthData(data));\r\n  // else \r\n  //   yield put(putFailedAuthData(data));\r\n}\r\n\r\nexport function* watchGetProjectsData() {\r\n  yield takeEvery(GET_USER_PROJECTS, workerGetProjectsData);\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { takeEvery, put, call } from 'redux-saga/effects';\nimport { GET_SNIPPETS, CREATE_SNIPPETS, putCreatedSnippets, putGottenSnippets, putUpdatedSnippet } from './actions';\nimport { putAddedComponenInProject } from '../projects/actions';\nimport fetchWithAuth from '../fetchWithAuth';\nimport * as config from '../config';\nimport { addNotify } from '../notify/actions'; // Workers\n\nfunction* workerGetSnippets(action) {\n  const response = yield fetchWithAuth(`${config.URL_SNIPPET_API}/component${action.payload}`);\n  if (response && response.success === true) yield put(putGottenSnippets(response));else yield put(addNotify({\n    message: response.message\n  }));\n}\n\nfunction* workerCreateSnippet(action) {\n  const response = yield fetchWithAuth(`${config.URL_SNIPPET_API}`, 'POST', action.payload);\n  if (response && response.success === true) yield put(putCreatedSnippets(response));else yield put(addNotify({\n    message: response.message\n  }));\n}\n\nfunction* workerUpdateSnippet(action) {\n  const response = yield fetchWithAuth(`${config.URL_SNIPPET_API}/${action.payload.snippetId}`, 'PUT', action.payload.data);\n  if (response && response.success === true) yield put(putUpdatedSnippet(response));else yield put(addNotify({\n    message: 'Возникла ошибка на сервере'\n  }));\n} // Watchers \n\n\nexport function* watchGetSnippets() {\n  yield takeEvery(GET_SNIPPETS, workerGetSnippets);\n}\nexport function* watchCreateSnippet() {\n  yield takeEvery(CREATE_SNIPPETS, workerCreateSnippet);\n}\nexport function* watchUpdateSnippet() {\n  yield takeEvery(CREATE_SNIPPETS, workerUpdateSnippet);\n}","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/store/snippets/sagas.js"],"names":["takeEvery","put","call","GET_SNIPPETS","CREATE_SNIPPETS","putCreatedSnippets","putGottenSnippets","putUpdatedSnippet","putAddedComponenInProject","fetchWithAuth","config","addNotify","workerGetSnippets","action","response","URL_SNIPPET_API","payload","success","message","workerCreateSnippet","workerUpdateSnippet","snippetId","data","watchGetSnippets","watchCreateSnippet","watchUpdateSnippet"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,GAAnB,EAAwBC,IAAxB,QAAmC,oBAAnC;AACA,SACEC,YADF,EAEEC,eAFF,EAGEC,kBAHF,EAIEC,iBAJF,EAKEC,iBALF,QAMO,WANP;AAQA,SAAQC,yBAAR,QAAwC,qBAAxC;AAEA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAO,KAAKC,MAAZ,MAAwB,WAAxB;AACA,SAASC,SAAT,QAA0B,mBAA1B,C,CAEA;;AAEA,UAAUC,iBAAV,CAA4BC,MAA5B,EAAoC;AAEnC,QAAMC,QAAQ,GAAG,MAAML,aAAa,CAAE,GAAEC,MAAM,CAACK,eAAgB,aAAYF,MAAM,CAACG,OAAQ,EAAtD,CAApC;AAEA,MAAIF,QAAQ,IAAIA,QAAQ,CAACG,OAAT,KAAqB,IAArC,EACG,MAAMhB,GAAG,CAACK,iBAAiB,CAACQ,QAAD,CAAlB,CAAT,CADH,KAGG,MAAMb,GAAG,CAACU,SAAS,CAAC;AAACO,IAAAA,OAAO,EAAEJ,QAAQ,CAACI;AAAnB,GAAD,CAAV,CAAT;AACH;;AAED,UAAUC,mBAAV,CAA8BN,MAA9B,EAAsC;AAErC,QAAMC,QAAQ,GAAG,MAAML,aAAa,CAAE,GAAEC,MAAM,CAACK,eAAgB,EAA3B,EAA8B,MAA9B,EAAsCF,MAAM,CAACG,OAA7C,CAApC;AAEA,MAAIF,QAAQ,IAAIA,QAAQ,CAACG,OAAT,KAAqB,IAArC,EACG,MAAMhB,GAAG,CAACI,kBAAkB,CAACS,QAAD,CAAnB,CAAT,CADH,KAGG,MAAMb,GAAG,CAACU,SAAS,CAAC;AAACO,IAAAA,OAAO,EAAEJ,QAAQ,CAACI;AAAnB,GAAD,CAAV,CAAT;AACH;;AAED,UAAUE,mBAAV,CAA8BP,MAA9B,EAAsC;AAErC,QAAMC,QAAQ,GAAG,MAAML,aAAa,CAAE,GAAEC,MAAM,CAACK,eAAgB,IAAGF,MAAM,CAACG,OAAP,CAAeK,SAAU,EAAvD,EAA0D,KAA1D,EAAiER,MAAM,CAACG,OAAP,CAAeM,IAAhF,CAApC;AAEA,MAAIR,QAAQ,IAAIA,QAAQ,CAACG,OAAT,KAAqB,IAArC,EACG,MAAMhB,GAAG,CAACM,iBAAiB,CAACO,QAAD,CAAlB,CAAT,CADH,KAGG,MAAMb,GAAG,CAACU,SAAS,CAAC;AAACO,IAAAA,OAAO,EAAE;AAAV,GAAD,CAAV,CAAT;AACH,C,CAGD;;;AAEA,OAAO,UAAUK,gBAAV,GAA6B;AAClC,QAAMvB,SAAS,CAACG,YAAD,EAAeS,iBAAf,CAAf;AACD;AAED,OAAO,UAAUY,kBAAV,GAA+B;AACpC,QAAMxB,SAAS,CAACI,eAAD,EAAkBe,mBAAlB,CAAf;AACD;AAED,OAAO,UAAUM,kBAAV,GAA+B;AACpC,QAAMzB,SAAS,CAACI,eAAD,EAAkBgB,mBAAlB,CAAf;AACD","sourcesContent":["import {takeEvery, put, call} from 'redux-saga/effects';\r\nimport {\r\n  GET_SNIPPETS,\r\n  CREATE_SNIPPETS,\r\n  putCreatedSnippets,\r\n  putGottenSnippets,\r\n  putUpdatedSnippet\r\n} from './actions';\r\n\r\nimport {putAddedComponenInProject} from '../projects/actions';\r\n\r\nimport fetchWithAuth from '../fetchWithAuth';\r\nimport * as config from '../config';\r\nimport { addNotify } from '../notify/actions';\r\n\r\n// Workers\r\n\r\nfunction* workerGetSnippets(action) {\r\n  \r\n\tconst response = yield fetchWithAuth(`${config.URL_SNIPPET_API}/component${action.payload}`);\r\n\r\n\tif (response && response.success === true) \r\n    yield put(putGottenSnippets(response));\r\n  else \r\n    yield put(addNotify({message: response.message}));\r\n}\r\n\r\nfunction* workerCreateSnippet(action) {\r\n  \r\n\tconst response = yield fetchWithAuth(`${config.URL_SNIPPET_API}`, 'POST', action.payload);\r\n\r\n\tif (response && response.success === true) \r\n    yield put(putCreatedSnippets(response));\r\n  else \r\n    yield put(addNotify({message: response.message}));\r\n}\r\n\r\nfunction* workerUpdateSnippet(action) {\r\n  \r\n\tconst response = yield fetchWithAuth(`${config.URL_SNIPPET_API}/${action.payload.snippetId}`, 'PUT', action.payload.data);\r\n\r\n\tif (response && response.success === true) \r\n    yield put(putUpdatedSnippet(response));\r\n  else \r\n    yield put(addNotify({message: 'Возникла ошибка на сервере'}));\r\n}\r\n\r\n\r\n// Watchers \r\n\r\nexport function* watchGetSnippets() {\r\n  yield takeEvery(GET_SNIPPETS, workerGetSnippets);\r\n}\r\n\r\nexport function* watchCreateSnippet() {\r\n  yield takeEvery(CREATE_SNIPPETS, workerCreateSnippet);\r\n}\r\n\r\nexport function* watchUpdateSnippet() {\r\n  yield takeEvery(CREATE_SNIPPETS, workerUpdateSnippet);\r\n}\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\src\\\\components\\\\Auth\\\\Auth.jsx\";\nimport React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport DefaultHome from '../DefaultHome/DefaultHome';\nimport Register from './Register';\nimport Login from './Login';\n\nclass Auth extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fields: {},\n      loading: false\n    };\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.name === 'isGoing' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      fields: { ...this.state.fields,\n        [name]: value\n      },\n      loading: false,\n      hasRequest: false\n    });\n  }\n\n  changeLoading(bool = !this.state.loading) {\n    this.setState({\n      loading: bool\n    });\n  }\n\n  registerOnSubmit(e) {\n    e.preventDefault();\n    this.changeLoading(true);\n    this.props.sendRegisterData(this.state.fields);\n  }\n\n  loginOnSubmit(e) {\n    e.preventDefault();\n    this.changeLoading(true);\n    this.props.sendLoginData(this.state.fields);\n  }\n\n  componentDidMount() {\n    if (this.props.success === true) {\n      this.props.history.push('/');\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.error || this.props.error.length > 0) {\n      this.changeLoading(false);\n      this.props.addNotify({\n        message: this.props.error\n      });\n      this.props.clearAuthData();\n    }\n\n    if (this.props.success === true) {\n      this.props.history.push('/my');\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/auth\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DefaultHome, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/auth/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Register, {\n      loading: this.state.loading,\n      registerOnSubmit: this.registerOnSubmit.bind(this),\n      handleInputChange: this.handleInputChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/auth/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      loading: this.state.loading && !this.state.hasRequest,\n      loginOnSubmit: this.loginOnSubmit.bind(this),\n      handleInputChange: this.handleInputChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default Auth;","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/components/Auth/Auth.jsx"],"names":["React","Component","Switch","Route","DefaultHome","Register","Login","Auth","constructor","props","state","fields","loading","handleInputChange","event","target","value","name","checked","setState","hasRequest","changeLoading","bool","registerOnSubmit","e","preventDefault","sendRegisterData","loginOnSubmit","sendLoginData","componentDidMount","success","history","push","componentDidUpdate","error","length","addNotify","message","clearAuthData","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport DefaultHome from '../DefaultHome/DefaultHome';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\n\r\n\r\nclass Auth extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { fields: {}, loading: false };\r\n  }\r\n\r\n  handleInputChange(event) {\r\n    const target = event.target;\r\n    const value = target.name === 'isGoing' ? target.checked : target.value;\r\n    const name = target.name;\r\n    \r\n    this.setState({\r\n      fields: { ...this.state.fields, [name]: value },\r\n      loading: false, \r\n      hasRequest: false,\r\n    });\r\n  }\r\n\r\n  changeLoading(bool = !this.state.loading) {\r\n    this.setState({ loading: bool });\r\n  }\r\n\r\n  registerOnSubmit(e) {\r\n    e.preventDefault();\r\n    this.changeLoading(true);\r\n    this.props.sendRegisterData(this.state.fields);\r\n  }\r\n  \r\n  loginOnSubmit(e) {\r\n    e.preventDefault();\r\n    this.changeLoading(true);\r\n    this.props.sendLoginData(this.state.fields);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.success === true) {\r\n      this.props.history.push('/');\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    \r\n    if (this.props.error || this.props.error.length > 0) {\r\n      this.changeLoading(false);\r\n      this.props.addNotify({message: this.props.error});\r\n      this.props.clearAuthData();\r\n    }\r\n  \r\n    if (this.props.success === true) {\r\n      this.props.history.push('/my');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route exact path='/auth'>\r\n          <DefaultHome />\r\n        </Route>\r\n        <Route path='/auth/register'>\r\n          <Register loading={this.state.loading} registerOnSubmit={this.registerOnSubmit.bind(this)} handleInputChange={this.handleInputChange.bind(this)}/>\r\n        </Route>\r\n        <Route path='/auth/login'>\r\n          <Login loading={this.state.loading && !this.state.hasRequest} loginOnSubmit={this.loginOnSubmit.bind(this)} handleInputChange={this.handleInputChange.bind(this)} />\r\n        </Route>\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}
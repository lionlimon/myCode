{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Switch,Route}from'react-router-dom';import DefaultHome from'../DefaultHome/DefaultHome';import Register from'./Register';import Login from'./Login';import{addNotify}from'../../store/notify/actions';var Auth=/*#__PURE__*/function(_Component){_inherits(Auth,_Component);var _super=_createSuper(Auth);function Auth(props){var _this;_classCallCheck(this,Auth);_this=_super.call(this,props);_this.state={fields:{},loading:false};return _this;}_createClass(Auth,[{key:\"handleInputChange\",value:function handleInputChange(event){var target=event.target;var value=target.name==='isGoing'?target.checked:target.value;var name=target.name;this.setState({fields:_objectSpread({},this.state.fields,_defineProperty({},name,value)),loading:false,hasRequest:false});}},{key:\"changeLoading\",value:function changeLoading(){var bool=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!this.state.loading;this.setState({loading:bool});}},{key:\"registerOnSubmit\",value:function registerOnSubmit(e){e.preventDefault();this.changeLoading(true);this.props.sendRegisterData(this.state.fields);}},{key:\"loginOnSubmit\",value:function loginOnSubmit(e){e.preventDefault();this.changeLoading(true);this.props.sendLoginData(this.state.fields);}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.success===true){this.props.history.push('/');this.props.getUserData();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.props.error&&this.props.error.length>0){this.changeLoading(false);this.props.addNotify({message:this.props.error});this.props.clearAuthData();}if(this.props.success===true){this.props.history.push('/');this.props.getUserData();}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/auth\"},/*#__PURE__*/React.createElement(DefaultHome,null)),/*#__PURE__*/React.createElement(Route,{path:\"/auth/register\"},/*#__PURE__*/React.createElement(Register,{loading:this.state.loading,registerOnSubmit:this.registerOnSubmit.bind(this),handleInputChange:this.handleInputChange.bind(this)})),/*#__PURE__*/React.createElement(Route,{path:\"/auth/login\"},/*#__PURE__*/React.createElement(Login,{loading:this.state.loading&&!this.state.hasRequest,loginOnSubmit:this.loginOnSubmit.bind(this),handleInputChange:this.handleInputChange.bind(this)})));}}]);return Auth;}(Component);export default Auth;","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/components/Auth/Auth.jsx"],"names":["React","Component","Switch","Route","DefaultHome","Register","Login","addNotify","Auth","props","state","fields","loading","event","target","value","name","checked","setState","hasRequest","bool","e","preventDefault","changeLoading","sendRegisterData","sendLoginData","success","history","push","getUserData","error","length","message","clearAuthData","registerOnSubmit","bind","handleInputChange","loginOnSubmit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport DefaultHome from '../DefaultHome/DefaultHome';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport { addNotify } from '../../store/notify/actions';\r\n\r\nclass Auth extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { fields: {}, loading: false };\r\n  }\r\n\r\n  handleInputChange(event) {\r\n    const target = event.target;\r\n    const value = target.name === 'isGoing' ? target.checked : target.value;\r\n    const name = target.name;\r\n    \r\n    this.setState({\r\n      fields: { ...this.state.fields, [name]: value },\r\n      loading: false, \r\n      hasRequest: false,\r\n    });\r\n  }\r\n\r\n  changeLoading(bool = !this.state.loading) {\r\n    this.setState({ loading: bool });\r\n  }\r\n\r\n  registerOnSubmit(e) {\r\n    e.preventDefault();\r\n    this.changeLoading(true);\r\n    this.props.sendRegisterData(this.state.fields);\r\n  }\r\n  \r\n  loginOnSubmit(e) {\r\n    e.preventDefault();\r\n    this.changeLoading(true);\r\n    this.props.sendLoginData(this.state.fields);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.success === true) {\r\n      this.props.history.push('/');\r\n      this.props.getUserData();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    \r\n    if (this.props.error && this.props.error.length > 0) {\r\n      this.changeLoading(false);\r\n      this.props.addNotify({message: this.props.error});\r\n      this.props.clearAuthData();\r\n    }\r\n  \r\n    if (this.props.success === true) {\r\n      this.props.history.push('/');\r\n      this.props.getUserData();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route exact path='/auth'>\r\n          <DefaultHome />\r\n        </Route>\r\n        <Route path='/auth/register'>\r\n          <Register loading={this.state.loading} registerOnSubmit={this.registerOnSubmit.bind(this)} handleInputChange={this.handleInputChange.bind(this)}/>\r\n        </Route>\r\n        <Route path='/auth/login'>\r\n          <Login loading={this.state.loading && !this.state.hasRequest} loginOnSubmit={this.loginOnSubmit.bind(this)} handleInputChange={this.handleInputChange.bind(this)} />\r\n        </Route>\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(workerGetSnippets),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(workerCreateSnippet),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(workerUpdateSnippet),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(watchGetSnippets),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(watchCreateSnippet),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(watchUpdateSnippet);import{takeEvery,put,call}from'redux-saga/effects';import{GET_SNIPPETS,CREATE_SNIPPETS,putCreatedSnippets,putGottenSnippets,putUpdatedSnippet,UPDATE_SNIPPETS}from'./actions';import fetchWithAuth from'../fetchWithAuth';import*as config from'../config';import{addNotify}from'../notify/actions';// Workers\nfunction workerGetSnippets(action){var response;return _regeneratorRuntime.wrap(function workerGetSnippets$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchWithAuth(\"\".concat(config.URL_SNIPPET_API,\"/component\").concat(action.payload));case 2:response=_context.sent;if(!(response&&response.success===true)){_context.next=8;break;}_context.next=6;return put(putGottenSnippets(response));case 6:_context.next=10;break;case 8:_context.next=10;return put(addNotify({message:response.message}));case 10:case\"end\":return _context.stop();}}},_marked);}function workerCreateSnippet(action){var response;return _regeneratorRuntime.wrap(function workerCreateSnippet$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchWithAuth(\"\".concat(config.URL_SNIPPET_API),'POST',action.payload);case 2:response=_context2.sent;if(!(response&&response.success===true)){_context2.next=8;break;}_context2.next=6;return put(putCreatedSnippets(response));case 6:_context2.next=10;break;case 8:_context2.next=10;return put(addNotify({message:response.message}));case 10:case\"end\":return _context2.stop();}}},_marked2);}function workerUpdateSnippet(action){var response;return _regeneratorRuntime.wrap(function workerUpdateSnippet$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetchWithAuth(\"\".concat(config.URL_SNIPPET_API,\"/\").concat(action.payload.snippetId),'PUT',action.payload.data);case 2:response=_context3.sent;console.log(response,'ответ');if(!(response&&response.success===true)){_context3.next=9;break;}_context3.next=7;return put(addNotify({message:'Сниппет сохранен'}));case 7:_context3.next=11;break;case 9:_context3.next=11;return put(addNotify({message:'Возникла ошибка на сервере'}));case 11:case\"end\":return _context3.stop();}}},_marked3);}// Watchers \nexport function watchGetSnippets(){return _regeneratorRuntime.wrap(function watchGetSnippets$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return takeEvery(GET_SNIPPETS,workerGetSnippets);case 2:case\"end\":return _context4.stop();}}},_marked4);}export function watchCreateSnippet(){return _regeneratorRuntime.wrap(function watchCreateSnippet$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return takeEvery(CREATE_SNIPPETS,workerCreateSnippet);case 2:case\"end\":return _context5.stop();}}},_marked5);}export function watchUpdateSnippet(){return _regeneratorRuntime.wrap(function watchUpdateSnippet$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return takeEvery(UPDATE_SNIPPETS,workerUpdateSnippet);case 2:case\"end\":return _context6.stop();}}},_marked6);}","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/store/snippets/sagas.js"],"names":["workerGetSnippets","workerCreateSnippet","workerUpdateSnippet","watchGetSnippets","watchCreateSnippet","watchUpdateSnippet","takeEvery","put","call","GET_SNIPPETS","CREATE_SNIPPETS","putCreatedSnippets","putGottenSnippets","putUpdatedSnippet","UPDATE_SNIPPETS","fetchWithAuth","config","addNotify","action","URL_SNIPPET_API","payload","response","success","message","snippetId","data","console","log"],"mappings":"0OAiBUA,iB,iDAUAC,mB,iDAUAC,mB,iDAaOC,gB,iDAIAC,kB,iDAIAC,kB,EA1DjB,OAAQC,SAAR,CAAmBC,GAAnB,CAAwBC,IAAxB,KAAmC,oBAAnC,CACA,OACEC,YADF,CAEEC,eAFF,CAGEC,kBAHF,CAIEC,iBAJF,CAKEC,iBALF,CAMEC,eANF,KAOO,WAPP,CAUA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,WAAxB,CACA,OAASC,SAAT,KAA0B,mBAA1B,CAEA;AAEA,QAAUjB,CAAAA,iBAAV,CAA4BkB,MAA5B,yJAEkB,MAAMH,CAAAA,aAAa,WAAIC,MAAM,CAACG,eAAX,sBAAuCD,MAAM,CAACE,OAA9C,EAAnB,CAFlB,OAEOC,QAFP,oBAIKA,QAAQ,EAAIA,QAAQ,CAACC,OAAT,GAAqB,IAJtC,0CAKI,MAAMf,CAAAA,GAAG,CAACK,iBAAiB,CAACS,QAAD,CAAlB,CAAT,CALJ,sDAOI,MAAMd,CAAAA,GAAG,CAACU,SAAS,CAAC,CAACM,OAAO,CAAEF,QAAQ,CAACE,OAAnB,CAAD,CAAV,CAAT,CAPJ,uDAUA,QAAUtB,CAAAA,mBAAV,CAA8BiB,MAA9B,+JAEkB,MAAMH,CAAAA,aAAa,WAAIC,MAAM,CAACG,eAAX,EAA8B,MAA9B,CAAsCD,MAAM,CAACE,OAA7C,CAAnB,CAFlB,OAEOC,QAFP,qBAIKA,QAAQ,EAAIA,QAAQ,CAACC,OAAT,GAAqB,IAJtC,4CAKI,MAAMf,CAAAA,GAAG,CAACI,kBAAkB,CAACU,QAAD,CAAnB,CAAT,CALJ,wDAOI,MAAMd,CAAAA,GAAG,CAACU,SAAS,CAAC,CAACM,OAAO,CAAEF,QAAQ,CAACE,OAAnB,CAAD,CAAV,CAAT,CAPJ,yDAUA,QAAUrB,CAAAA,mBAAV,CAA8BgB,MAA9B,+JAEkB,MAAMH,CAAAA,aAAa,WAAIC,MAAM,CAACG,eAAX,aAA8BD,MAAM,CAACE,OAAP,CAAeI,SAA7C,EAA0D,KAA1D,CAAiEN,MAAM,CAACE,OAAP,CAAeK,IAAhF,CAAnB,CAFlB,OAEOJ,QAFP,gBAGEK,OAAO,CAACC,GAAR,CAAYN,QAAZ,CAAsB,OAAtB,EAHF,KAIKA,QAAQ,EAAIA,QAAQ,CAACC,OAAT,GAAqB,IAJtC,4CAKI,MAAMf,CAAAA,GAAG,CAACU,SAAS,CAAC,CAACM,OAAO,CAAE,kBAAV,CAAD,CAAV,CAAT,CALJ,wDAOI,MAAMhB,CAAAA,GAAG,CAACU,SAAS,CAAC,CAACM,OAAO,CAAE,4BAAV,CAAD,CAAV,CAAT,CAPJ,yDAWA;AAEA,MAAO,SAAUpB,CAAAA,gBAAV,gJACL,MAAMG,CAAAA,SAAS,CAACG,YAAD,CAAeT,iBAAf,CAAf,CADK,wDAIP,MAAO,SAAUI,CAAAA,kBAAV,kJACL,MAAME,CAAAA,SAAS,CAACI,eAAD,CAAkBT,mBAAlB,CAAf,CADK,wDAIP,MAAO,SAAUI,CAAAA,kBAAV,kJACL,MAAMC,CAAAA,SAAS,CAACQ,eAAD,CAAkBZ,mBAAlB,CAAf,CADK","sourcesContent":["import {takeEvery, put, call} from 'redux-saga/effects';\r\nimport {\r\n  GET_SNIPPETS,\r\n  CREATE_SNIPPETS,\r\n  putCreatedSnippets,\r\n  putGottenSnippets,\r\n  putUpdatedSnippet,\r\n  UPDATE_SNIPPETS\r\n} from './actions';\r\n\r\n\r\nimport fetchWithAuth from '../fetchWithAuth';\r\nimport * as config from '../config';\r\nimport { addNotify } from '../notify/actions';\r\n\r\n// Workers\r\n\r\nfunction* workerGetSnippets(action) {\r\n  \r\n\tconst response = yield fetchWithAuth(`${config.URL_SNIPPET_API}/component${action.payload}`);\r\n\r\n\tif (response && response.success === true) \r\n    yield put(putGottenSnippets(response));\r\n  else \r\n    yield put(addNotify({message: response.message}));\r\n}\r\n\r\nfunction* workerCreateSnippet(action) {\r\n  \r\n\tconst response = yield fetchWithAuth(`${config.URL_SNIPPET_API}`, 'POST', action.payload);\r\n\r\n\tif (response && response.success === true) \r\n    yield put(putCreatedSnippets(response));\r\n  else \r\n    yield put(addNotify({message: response.message}));\r\n}\r\n\r\nfunction* workerUpdateSnippet(action) {\r\n  \r\n\tconst response = yield fetchWithAuth(`${config.URL_SNIPPET_API}/${action.payload.snippetId}`, 'PUT', action.payload.data);\r\n  console.log(response, 'ответ');\r\n\tif (response && response.success === true) \r\n    yield put(addNotify({message: 'Сниппет сохранен'}));\r\n  else \r\n    yield put(addNotify({message: 'Возникла ошибка на сервере'}));\r\n}\r\n\r\n\r\n// Watchers \r\n\r\nexport function* watchGetSnippets() {\r\n  yield takeEvery(GET_SNIPPETS, workerGetSnippets);\r\n}\r\n\r\nexport function* watchCreateSnippet() {\r\n  yield takeEvery(CREATE_SNIPPETS, workerCreateSnippet);\r\n}\r\n\r\nexport function* watchUpdateSnippet() {\r\n  yield takeEvery(UPDATE_SNIPPETS, workerUpdateSnippet);\r\n}\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}
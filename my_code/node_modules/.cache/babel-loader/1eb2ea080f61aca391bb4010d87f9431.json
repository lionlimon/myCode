{"ast":null,"code":"import{createStore,applyMiddleware}from'redux';import createSagaMiddleware from'redux-saga';import{watchRegisterData,watchLoginData,watchGetUserData}from'./auth/sagas';import{watchGetProjects,watchGetOtherProjects,watchCreateProjects,watchDeleteProjects,watchAddUserInProject,watchDeleteUserInProject,watchGetProjectById}from'./projects/sagas';import{watchGetComponents,wathcCreateComponent,wathcDeletedComponent}from'./components/sagas';import reducers from'./redusers';import logger from'redux-logger';import{watchGetSnippets,watchCreateSnippet,watchUpdateSnippet}from'./snippets/sagas';var loadState=function loadState(){try{var serialisedState=window.localStorage.getItem('app_state');if(!serialisedState)return{};// todo: допилить\nreturn JSON.parse(serialisedState);}catch(err){return undefined;}};var saveState=function saveState(state){try{var serialisedState=JSON.stringify(state);window.localStorage.setItem('app_state',serialisedState);}catch(err){}};var sagaMiddleware=createSagaMiddleware();var oldState=loadState();var store=createStore(reducers,oldState,applyMiddleware(sagaMiddleware,logger));sagaMiddleware.run(watchRegisterData);sagaMiddleware.run(watchLoginData);sagaMiddleware.run(watchGetProjects);sagaMiddleware.run(watchCreateProjects);sagaMiddleware.run(watchDeleteProjects);sagaMiddleware.run(watchAddUserInProject);sagaMiddleware.run(watchDeleteUserInProject);sagaMiddleware.run(watchGetOtherProjects);sagaMiddleware.run(watchGetUserData);sagaMiddleware.run(watchGetComponents);sagaMiddleware.run(wathcCreateComponent);sagaMiddleware.run(watchGetProjectById);sagaMiddleware.run(watchGetSnippets);sagaMiddleware.run(watchCreateSnippet);sagaMiddleware.run(watchUpdateSnippet);sagaMiddleware.run(wathcDeletedComponent);store.subscribe(function(){saveState({auth:store.getState().auth// projects: store.getState().projects\n});});export default store;","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/store/index.js"],"names":["createStore","applyMiddleware","createSagaMiddleware","watchRegisterData","watchLoginData","watchGetUserData","watchGetProjects","watchGetOtherProjects","watchCreateProjects","watchDeleteProjects","watchAddUserInProject","watchDeleteUserInProject","watchGetProjectById","watchGetComponents","wathcCreateComponent","wathcDeletedComponent","reducers","logger","watchGetSnippets","watchCreateSnippet","watchUpdateSnippet","loadState","serialisedState","window","localStorage","getItem","JSON","parse","err","undefined","saveState","state","stringify","setItem","sagaMiddleware","oldState","store","run","subscribe","auth","getState"],"mappings":"AAAA,OAAQA,WAAR,CAAqBC,eAArB,KAA2C,OAA3C,CACA,MAAOC,CAAAA,oBAAP,KAAiC,YAAjC,CACA,OAAQC,iBAAR,CAA2BC,cAA3B,CAA2CC,gBAA3C,KAAkE,cAAlE,CACA,OACEC,gBADF,CAEEC,qBAFF,CAGEC,mBAHF,CAIEC,mBAJF,CAKEC,qBALF,CAMEC,wBANF,CAOEC,mBAPF,KAQO,kBARP,CASA,OAAQC,kBAAR,CAA4BC,oBAA5B,CAAkDC,qBAAlD,KAA8E,oBAA9E,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,OAASC,gBAAT,CAA2BC,kBAA3B,CAA+CC,kBAA/C,KAAyE,kBAAzE,CAIA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAI,CACA,GAAMC,CAAAA,eAAe,CAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAxB,CAEA,GAAI,CAACH,eAAL,CAAsB,MAAO,EAAP,CAAW;AAEjC,MAAOI,CAAAA,IAAI,CAACC,KAAL,CAAWL,eAAX,CAAP,CACH,CAAC,MAAOM,GAAP,CAAY,CACV,MAAOC,CAAAA,SAAP,CACH,CACF,CAVD,CAYA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC3B,GAAI,CACA,GAAMT,CAAAA,eAAe,CAAGI,IAAI,CAACM,SAAL,CAAeD,KAAf,CAAxB,CAEAR,MAAM,CAACC,YAAP,CAAoBS,OAApB,CAA4B,WAA5B,CAAyCX,eAAzC,EACH,CAAC,MAAOM,GAAP,CAAY,CAEb,CACF,CARD,CAUA,GAAMM,CAAAA,cAAc,CAAGhC,oBAAoB,EAA3C,CACA,GAAMiC,CAAAA,QAAQ,CAAGd,SAAS,EAA1B,CACA,GAAMe,CAAAA,KAAK,CAAGpC,WAAW,CAACgB,QAAD,CAAWmB,QAAX,CAAqBlC,eAAe,CAACiC,cAAD,CAAiBjB,MAAjB,CAApC,CAAzB,CAEAiB,cAAc,CAACG,GAAf,CAAmBlC,iBAAnB,EACA+B,cAAc,CAACG,GAAf,CAAmBjC,cAAnB,EACA8B,cAAc,CAACG,GAAf,CAAmB/B,gBAAnB,EACA4B,cAAc,CAACG,GAAf,CAAmB7B,mBAAnB,EACA0B,cAAc,CAACG,GAAf,CAAmB5B,mBAAnB,EACAyB,cAAc,CAACG,GAAf,CAAmB3B,qBAAnB,EACAwB,cAAc,CAACG,GAAf,CAAmB1B,wBAAnB,EACAuB,cAAc,CAACG,GAAf,CAAmB9B,qBAAnB,EACA2B,cAAc,CAACG,GAAf,CAAmBhC,gBAAnB,EACA6B,cAAc,CAACG,GAAf,CAAmBxB,kBAAnB,EACAqB,cAAc,CAACG,GAAf,CAAmBvB,oBAAnB,EACAoB,cAAc,CAACG,GAAf,CAAmBzB,mBAAnB,EACAsB,cAAc,CAACG,GAAf,CAAmBnB,gBAAnB,EACAgB,cAAc,CAACG,GAAf,CAAmBlB,kBAAnB,EACAe,cAAc,CAACG,GAAf,CAAmBjB,kBAAnB,EACAc,cAAc,CAACG,GAAf,CAAmBtB,qBAAnB,EAEAqB,KAAK,CAACE,SAAN,CAAgB,UAAM,CACpBR,SAAS,CAAC,CACRS,IAAI,CAAEH,KAAK,CAACI,QAAN,GAAiBD,IACvB;AAFQ,CAAD,CAAT,CAID,CALD,EAQA,cAAeH,CAAAA,KAAf","sourcesContent":["import {createStore, applyMiddleware} from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport {watchRegisterData, watchLoginData, watchGetUserData} from './auth/sagas';\r\nimport {\r\n  watchGetProjects, \r\n  watchGetOtherProjects,\r\n  watchCreateProjects, \r\n  watchDeleteProjects, \r\n  watchAddUserInProject, \r\n  watchDeleteUserInProject,\r\n  watchGetProjectById,\r\n} from './projects/sagas';\r\nimport {watchGetComponents, wathcCreateComponent, wathcDeletedComponent} from './components/sagas';\r\nimport reducers from './redusers';\r\nimport logger from 'redux-logger'\r\nimport { watchGetSnippets, watchCreateSnippet, watchUpdateSnippet } from './snippets/sagas';\r\n\r\n\r\n\r\nconst loadState = () => {\r\n  try {\r\n      const serialisedState = window.localStorage.getItem('app_state');\r\n\r\n      if (!serialisedState) return {}; // todo: допилить\r\n\r\n      return JSON.parse(serialisedState);\r\n  } catch (err) {\r\n      return undefined;\r\n  }\r\n};\r\n\r\nconst saveState = (state) => {\r\n  try {\r\n      const serialisedState = JSON.stringify(state);\r\n\r\n      window.localStorage.setItem('app_state', serialisedState);\r\n  } catch (err) {\r\n    \r\n  }\r\n};\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst oldState = loadState();\r\nconst store = createStore(reducers, oldState, applyMiddleware(sagaMiddleware, logger));\r\n\r\nsagaMiddleware.run(watchRegisterData);\r\nsagaMiddleware.run(watchLoginData);\r\nsagaMiddleware.run(watchGetProjects);\r\nsagaMiddleware.run(watchCreateProjects);\r\nsagaMiddleware.run(watchDeleteProjects);\r\nsagaMiddleware.run(watchAddUserInProject);\r\nsagaMiddleware.run(watchDeleteUserInProject);\r\nsagaMiddleware.run(watchGetOtherProjects);\r\nsagaMiddleware.run(watchGetUserData);\r\nsagaMiddleware.run(watchGetComponents);\r\nsagaMiddleware.run(wathcCreateComponent);\r\nsagaMiddleware.run(watchGetProjectById);\r\nsagaMiddleware.run(watchGetSnippets);\r\nsagaMiddleware.run(watchCreateSnippet);\r\nsagaMiddleware.run(watchUpdateSnippet);\r\nsagaMiddleware.run(wathcDeletedComponent);\r\n  \r\nstore.subscribe(() => {\r\n  saveState({\r\n    auth: store.getState().auth,\r\n    // projects: store.getState().projects\r\n  });\r\n});\r\n\r\n\r\nexport default store;"]},"metadata":{},"sourceType":"module"}
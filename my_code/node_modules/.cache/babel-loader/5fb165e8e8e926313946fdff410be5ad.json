{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\src\\\\components\\\\Editor\\\\Editor.jsx\";\nimport React, { Component } from 'react';\nimport { useParams } from 'react-router-dom';\nimport AceEditor from \"react-ace\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCopy, faExpand, faTrash, faSave } from '@fortawesome/free-solid-svg-icons';\nimport \"ace-builds/src-noconflict/theme-tomorrow_night\";\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport { matchPath } from 'react-router-dom';\nimport './Editor.sass';\nimport Loader from '../UI/Loader/Loader';\nimport store from '../../store/index';\nimport classNames from 'classnames';\n\nclass Editor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fullscreen: false\n    };\n    this.onClickFullscreenButton = this.onClickFullscreenButton.bind(this);\n    this.editor = React.createRef();\n  }\n\n  onClickFullscreenButton() {\n    this.setState({\n      fullscreen: !this.state.fullscreen\n    });\n  }\n\n  onCopyAllButton() {//\n  }\n\n  componentDidMount() {\n    this.bindSaveKeys();\n    console.log(this.editor);\n  }\n\n  bindSaveKeys() {\n    let timer;\n    document.addEventListener('keydown', e => {\n      if (e.ctrlKey && e.keyCode == 83) {\n        e.preventDefault();\n        clearTimeout(timer);\n        timer = setTimeout(this.onSaveSnippet.bind(this), 300);\n      }\n    });\n  }\n\n  onSaveSnippet() {\n    const snippetId = this.match.params.snippetId;\n    const snippets = store.getState().snippets.data;\n    if (!snippets) return false;\n    let snippet = snippets.filter(snippet => snippetId == snippet.id)[0];\n    if (snippet) this.props.onClickSaveButton({\n      snippetId,\n      data: {\n        text: snippet.text\n      }\n    });\n  }\n\n  onChangeEditor(value, snippet) {\n    snippet.text = value;\n  }\n\n  render() {\n    var _this$props$snippets;\n\n    const className = classNames({\n      'editor': true,\n      'fullscreen': this.state.fullscreen\n    });\n    this.match = matchPath(this.props.location.pathname, {\n      path: '/project:projectId/component:componentId/snippet:snippetId'\n    });\n\n    if ((_this$props$snippets = this.props.snippets) === null || _this$props$snippets === void 0 ? void 0 : _this$props$snippets.data) {\n      const snippet = this.props.snippets.data.filter(snippet => this.match.params.snippetId == snippet.id)[0];\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: className,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"editor-area\",\n        className: \"editor__area\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(AceEditor, {\n        mode: \"javascript\",\n        ref: this.editor,\n        onChange: value => {\n          this.onChangeEditor(value, snippet);\n        },\n        theme: \"tomorrow_night\",\n        value: snippet.text || '',\n        name: 'snippet_' + snippet.id,\n        editorProps: {\n          $blockScrolling: true\n        },\n        height: \"100%\",\n        width: \"100%\",\n        tabSize: 2,\n        fontSize: \"16px\",\n        placeholder: \"\\u0412\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043A\\u043E\\u0434, \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0439 \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",\n        style: {\n          padding: '10px'\n        },\n        setOptions: {\n          enableBasicAutocompletion: true,\n          enableLiveAutocompletion: true,\n          enableSnippets: true\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editor__panel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"editor__controls\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"editor__control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"editor__button\",\n        onClick: this.onClickFullscreenButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faExpand,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"editor__control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"editor__button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faCopy,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"editor__control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"editor__button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faTrash,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"editor__control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"editor__button\",\n        onClick: () => {\n          this.props.onClickSaveButton({\n            snippetId: this.match.params.snippetId,\n            data: {\n              text: snippet.text\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faSave,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 19\n        }\n      }))))));\n    } else {\n      return /*#__PURE__*/React.createElement(Loader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 16\n        }\n      });\n    }\n  }\n\n}\n\n;\nexport default Editor;","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/components/Editor/Editor.jsx"],"names":["React","Component","useParams","AceEditor","FontAwesomeIcon","faCopy","faExpand","faTrash","faSave","matchPath","Loader","store","classNames","Editor","constructor","props","state","fullscreen","onClickFullscreenButton","bind","editor","createRef","setState","onCopyAllButton","componentDidMount","bindSaveKeys","console","log","timer","document","addEventListener","e","ctrlKey","keyCode","preventDefault","clearTimeout","setTimeout","onSaveSnippet","snippetId","match","params","snippets","getState","data","snippet","filter","id","onClickSaveButton","text","onChangeEditor","value","render","className","location","pathname","path","$blockScrolling","padding","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,OAA3B,EAAoCC,MAApC,QAAkD,mCAAlD;AACA,OAAO,gDAAP;AACA,OAAO,2CAAP;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,OAAO,eAAP;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;;AAGA,MAAMC,MAAN,SAAqBZ,SAArB,CAA+B;AAC7Ba,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE;AADD,KAAb;AAIA,SAAKC,uBAAL,GAA+B,KAAKA,uBAAL,CAA6BC,IAA7B,CAAkC,IAAlC,CAA/B;AACA,SAAKC,MAAL,GAAcpB,KAAK,CAACqB,SAAN,EAAd;AACD;;AAEDH,EAAAA,uBAAuB,GAAG;AACxB,SAAKI,QAAL,CAAc;AAAEL,MAAAA,UAAU,EAAE,CAAC,KAAKD,KAAL,CAAWC;AAA1B,KAAd;AACD;;AAEDM,EAAAA,eAAe,GAAG,CAChB;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,YAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,MAAjB;AACD;;AAEDK,EAAAA,YAAY,GAAG;AACb,QAAIG,KAAJ;AACAC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAsCC,CAAD,IAAO;AAC1C,UAAIA,CAAC,CAACC,OAAF,IAAaD,CAAC,CAACE,OAAF,IAAa,EAA9B,EAAkC;AAChCF,QAAAA,CAAC,CAACG,cAAF;AACAC,QAAAA,YAAY,CAACP,KAAD,CAAZ;AAEAA,QAAAA,KAAK,GAAGQ,UAAU,CAAC,KAAKC,aAAL,CAAmBlB,IAAnB,CAAwB,IAAxB,CAAD,EAAgC,GAAhC,CAAlB;AACD;AACF,KAPD;AAQD;;AAEDkB,EAAAA,aAAa,GAAG;AACd,UAAMC,SAAS,GAAG,KAAKC,KAAL,CAAWC,MAAX,CAAkBF,SAApC;AACA,UAAMG,QAAQ,GAAG9B,KAAK,CAAC+B,QAAN,GAAiBD,QAAjB,CAA0BE,IAA3C;AAEA,QAAI,CAACF,QAAL,EACE,OAAO,KAAP;AAEF,QAAIG,OAAO,GAAGH,QAAQ,CAACI,MAAT,CAAgBD,OAAO,IAAIN,SAAS,IAAIM,OAAO,CAACE,EAAhD,EAAoD,CAApD,CAAd;AAGA,QAAIF,OAAJ,EACE,KAAK7B,KAAL,CAAWgC,iBAAX,CAA6B;AAACT,MAAAA,SAAD;AAAYK,MAAAA,IAAI,EAAE;AAACK,QAAAA,IAAI,EAAEJ,OAAO,CAACI;AAAf;AAAlB,KAA7B;AACH;;AAIDC,EAAAA,cAAc,CAACC,KAAD,EAAQN,OAAR,EAAiB;AAC7BA,IAAAA,OAAO,CAACI,IAAR,GAAeE,KAAf;AACD;;AAEDC,EAAAA,MAAM,GAAG;AAAA;;AACP,UAAMC,SAAS,GAAGxC,UAAU,CAAC;AAC3B,gBAAU,IADiB;AAE3B,oBAAc,KAAKI,KAAL,CAAWC;AAFE,KAAD,CAA5B;AAKA,SAAKsB,KAAL,GAAa9B,SAAS,CAAC,KAAKM,KAAL,CAAWsC,QAAX,CAAoBC,QAArB,EAA+B;AACnDC,MAAAA,IAAI,EAAE;AAD6C,KAA/B,CAAtB;;AAIA,gCAAI,KAAKxC,KAAL,CAAW0B,QAAf,yDAAI,qBAAqBE,IAAzB,EAA+B;AAC7B,YAAOC,OAAO,GAAG,KAAK7B,KAAL,CAAW0B,QAAX,CAAoBE,IAApB,CAAyBE,MAAzB,CAAgCD,OAAO,IAAI,KAAKL,KAAL,CAAWC,MAAX,CAAkBF,SAAlB,IAA+BM,OAAO,CAACE,EAAlF,EAAsF,CAAtF,CAAjB;AAGA,0BACE;AAAK,QAAA,SAAS,EAAEM,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,EAAE,EAAC,aAAR;AAAsB,QAAA,SAAS,EAAC,cAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AACE,QAAA,IAAI,EAAC,YADP;AAEE,QAAA,GAAG,EAAE,KAAKhC,MAFZ;AAGE,QAAA,QAAQ,EAAG8B,KAAD,IAAW;AAAC,eAAKD,cAAL,CAAoBC,KAApB,EAA2BN,OAA3B;AAAoC,SAH5D;AAIE,QAAA,KAAK,EAAC,gBAJR;AAKE,QAAA,KAAK,EAAEA,OAAO,CAACI,IAAR,IAAgB,EALzB;AAME,QAAA,IAAI,EAAE,aAAaJ,OAAO,CAACE,EAN7B;AAOE,QAAA,WAAW,EAAE;AAAEU,UAAAA,eAAe,EAAE;AAAnB,SAPf;AAQE,QAAA,MAAM,EAAC,MART;AASE,QAAA,KAAK,EAAC,MATR;AAUE,QAAA,OAAO,EAAE,CAVX;AAWE,QAAA,QAAQ,EAAC,MAXX;AAYE,QAAA,WAAW,EAAC,6MAZd;AAaE,QAAA,KAAK,EAAE;AAACC,UAAAA,OAAO,EAAE;AAAV,SAbT;AAcE,QAAA,UAAU,EAAE;AACVC,UAAAA,yBAAyB,EAAE,IADjB;AAEVC,UAAAA,wBAAwB,EAAE,IAFhB;AAGVC,UAAAA,cAAc,EAAE;AAHN,SAdd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAuBE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAQ,QAAA,SAAS,EAAC,gBAAlB;AAAmC,QAAA,OAAO,EAAE,KAAK1C,uBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,eAAD;AAAiB,QAAA,IAAI,EAAEZ,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF,eAME;AAAI,QAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAQ,QAAA,SAAS,EAAC,gBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,eAAD;AAAiB,QAAA,IAAI,EAAED,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CANF,eAWE;AAAI,QAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAQ,QAAA,SAAS,EAAC,gBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,eAAD;AAAiB,QAAA,IAAI,EAAEE,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CAXF,eAgBE;AAAI,QAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAQ,QAAA,SAAS,EAAC,gBAAlB;AAAmC,QAAA,OAAO,EAAE,MAAM;AAAE,eAAKQ,KAAL,CAAWgC,iBAAX,CAA6B;AAACT,YAAAA,SAAS,EAAE,KAAKC,KAAL,CAAWC,MAAX,CAAkBF,SAA9B;AAAyCK,YAAAA,IAAI,EAAE;AAACK,cAAAA,IAAI,EAAEJ,OAAO,CAACI;AAAf;AAA/C,WAA7B;AAAoG,SAAxJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,eAAD;AAAiB,QAAA,IAAI,EAAExC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CAhBF,CADF,CAvBF,CADF;AAkDC,KAtDH,MAsDS;AACL,0BAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;AACJ;;AA3H4B;;AA6H9B;AAED,eAAeK,MAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {useParams} from 'react-router-dom';\r\nimport AceEditor from \"react-ace\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCopy, faExpand, faTrash, faSave } from '@fortawesome/free-solid-svg-icons'\r\nimport \"ace-builds/src-noconflict/theme-tomorrow_night\";\r\nimport \"ace-builds/src-noconflict/mode-javascript\";\r\nimport {matchPath} from 'react-router-dom';\r\nimport './Editor.sass';\r\nimport Loader from '../UI/Loader/Loader';\r\nimport store from '../../store/index';\r\nimport classNames from 'classnames';\r\n\r\n\r\nclass Editor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      fullscreen: false\r\n    };\r\n\r\n    this.onClickFullscreenButton = this.onClickFullscreenButton.bind(this);\r\n    this.editor = React.createRef();\r\n  }\r\n\r\n  onClickFullscreenButton() {\r\n    this.setState({ fullscreen: !this.state.fullscreen });\r\n  }\r\n\r\n  onCopyAllButton() {\r\n    //\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.bindSaveKeys();\r\n    console.log(this.editor);\r\n  }\r\n\r\n  bindSaveKeys() {\r\n    let timer;\r\n    document.addEventListener('keydown', (e) => {\r\n      if (e.ctrlKey && e.keyCode == 83) {\r\n        e.preventDefault();\r\n        clearTimeout(timer);\r\n\r\n        timer = setTimeout(this.onSaveSnippet.bind(this), 300);\r\n      }\r\n    });\r\n  }\r\n\r\n  onSaveSnippet() {\r\n    const snippetId = this.match.params.snippetId\r\n    const snippets = store.getState().snippets.data;\r\n    \r\n    if (!snippets)\r\n      return false;\r\n    \r\n    let snippet = snippets.filter(snippet => snippetId == snippet.id)[0]; \r\n    \r\n    \r\n    if (snippet) \r\n      this.props.onClickSaveButton({snippetId, data: {text: snippet.text}});\r\n  }\r\n\r\n\r\n  \r\n  onChangeEditor(value, snippet) {\r\n    snippet.text = value;\r\n  }\r\n \r\n  render() {\r\n    const className = classNames({\r\n      'editor': true,\r\n      'fullscreen': this.state.fullscreen\r\n    });\r\n\r\n    this.match = matchPath(this.props.location.pathname, {\r\n      path: '/project:projectId/component:componentId/snippet:snippetId'\r\n    });\r\n\r\n    if (this.props.snippets?.data) {\r\n      const  snippet = this.props.snippets.data.filter(snippet => this.match.params.snippetId == snippet.id)[0];\r\n      \r\n    \r\n      return (\r\n        <div className={className} >\r\n          <div id=\"editor-area\" className=\"editor__area\">\r\n            <AceEditor\r\n              mode=\"javascript\"\r\n              ref={this.editor}\r\n              onChange={(value) => {this.onChangeEditor(value, snippet)}}\r\n              theme=\"tomorrow_night\"\r\n              value={snippet.text || ''}\r\n              name={'snippet_' + snippet.id}\r\n              editorProps={{ $blockScrolling: true }}\r\n              height='100%'\r\n              width='100%'\r\n              tabSize={2}\r\n              fontSize='16px'\r\n              placeholder='Вставьте код, который хотите сохранить'\r\n              style={{padding: '10px'}}\r\n              setOptions={{\r\n                enableBasicAutocompletion: true,\r\n                enableLiveAutocompletion: true,\r\n                enableSnippets: true\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"editor__panel\">\r\n            <ul className=\"editor__controls\">\r\n              <li className=\"editor__control\">\r\n                <button className=\"editor__button\" onClick={this.onClickFullscreenButton}>\r\n                  <FontAwesomeIcon icon={faExpand} />\r\n                </button>\r\n              </li>\r\n              <li className=\"editor__control\">\r\n                <button className=\"editor__button\">\r\n                  <FontAwesomeIcon icon={faCopy} />\r\n                </button>\r\n              </li>\r\n              <li className=\"editor__control\">\r\n                <button className=\"editor__button\">\r\n                  <FontAwesomeIcon icon={faTrash} />\r\n                </button>\r\n              </li>\r\n              <li className=\"editor__control\">\r\n                <button className=\"editor__button\" onClick={() => { this.props.onClickSaveButton({snippetId: this.match.params.snippetId, data: {text: snippet.text}}) }}>\r\n                  <FontAwesomeIcon icon={faSave} />\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      );\r\n      } else {\r\n        return <Loader />\r\n      }\r\n  }\r\n \r\n};\r\n\r\nexport default Editor;"]},"metadata":{},"sourceType":"module"}
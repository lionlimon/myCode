{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{PUT_GOTTEN_USER_PROJECTS,PUT_GOTTEN_OTHER_PROJECTS,PUT_CREATED_USER_PROJECT,PUT_DELETED_USER_PROJECT,PUT_ADDED_USER_IN_PROJECT,PUT_DELETED_USER_IN_PROJECT}from'./actions';import store from'../index';var initialState={myProjects:{},otherProjects:{}};export var projectsReduser=function projectsReduser(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case PUT_GOTTEN_USER_PROJECTS:return _objectSpread({},state,{myProjects:action.payload});case PUT_GOTTEN_OTHER_PROJECTS:return{otherProjects:_objectSpread({},action.payload,{data:action.payload.data.map(function(project){return _objectSpread({},project,{users:project.users.filter(function(user){return user.id!=action.payload.userId;})});})})};case PUT_CREATED_USER_PROJECT:return _objectSpread({},state,{myProjects:_objectSpread({},state.myProjects,{data:[].concat(_toConsumableArray(state.myProjects.data),[action.payload])})});case PUT_DELETED_USER_PROJECT:return _objectSpread({},state,{myProjects:_objectSpread({},state.myProjects,{data:state.myProjects.data.filter(function(project){return project.id!==action.payload.data.id;})})});case PUT_ADDED_USER_IN_PROJECT:var dataWithAddedUser=state.myProjects.data.map(function(project){if(project.id===action.payload.data['project_user']['project_id'])return _objectSpread({},project,{users:[].concat(_toConsumableArray(project.users||[]),[action.payload.data.user])});return project;});return _objectSpread({},state,{myProjects:_objectSpread({},state.myProjects,{data:dataWithAddedUser})});case PUT_DELETED_USER_IN_PROJECT:var dataWithOutAddedUser=state.myProjects.data.map(function(project){if(project.id==action.payload.data['project_id']){return _objectSpread({},project,{users:project.users.filter(function(user){return user.id!=action.payload.data['user_id'];})});}return project;});return _objectSpread({},state,{myProjects:_objectSpread({},state.myProjects,{data:dataWithOutAddedUser})});default:return state;}};","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/store/projects/reducers.js"],"names":["PUT_GOTTEN_USER_PROJECTS","PUT_GOTTEN_OTHER_PROJECTS","PUT_CREATED_USER_PROJECT","PUT_DELETED_USER_PROJECT","PUT_ADDED_USER_IN_PROJECT","PUT_DELETED_USER_IN_PROJECT","store","initialState","myProjects","otherProjects","projectsReduser","state","action","type","payload","data","map","project","users","filter","user","id","userId","dataWithAddedUser","dataWithOutAddedUser"],"mappings":"yYAAA,OACEA,wBADF,CAEEC,yBAFF,CAGEC,wBAHF,CAIEC,wBAJF,CAKEC,yBALF,CAMEC,2BANF,KAOO,WAPP,CASA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,UAAU,CAAE,EADO,CAEnBC,aAAa,CAAE,EAFI,CAArB,CAKA,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBJ,YAAyB,IAAXK,CAAAA,MAAW,2CAC/D,OAAQA,MAAM,CAACC,IAAf,EAEE,IAAKb,CAAAA,wBAAL,CACE,wBACKW,KADL,EAEEH,UAAU,CAAEI,MAAM,CAACE,OAFrB,GAKF,IAAKb,CAAAA,yBAAL,CACE,MAAQ,CACNQ,aAAa,kBACRG,MAAM,CAACE,OADC,EAEXC,IAAI,CAAEH,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoBC,GAApB,CACJ,SAAAC,OAAO,CAAI,CACT,wBACKA,OADL,EACcC,KAAK,CAAED,OAAO,CAACC,KAAR,CAAcC,MAAd,CAAqB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,EAAL,EAAWT,MAAM,CAACE,OAAP,CAAeQ,MAA9B,EAAzB,CADrB,GAGD,CALG,CAFK,EADP,CAAR,CAaF,IAAKpB,CAAAA,wBAAL,CACE,wBACKS,KADL,EAEEH,UAAU,kBAAMG,KAAK,CAACH,UAAZ,EAAwBO,IAAI,8BAAMJ,KAAK,CAACH,UAAN,CAAiBO,IAAvB,GAA6BH,MAAM,CAACE,OAApC,EAA5B,EAFZ,GAKF,IAAKX,CAAAA,wBAAL,CACE,wBACKQ,KADL,EAEEH,UAAU,kBACLG,KAAK,CAACH,UADD,EAERO,IAAI,CAAEJ,KAAK,CAACH,UAAN,CAAiBO,IAAjB,CAAsBI,MAAtB,CAA6B,SAAAF,OAAO,QAAIA,CAAAA,OAAO,CAACI,EAAR,GAAeT,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoBM,EAAvC,EAApC,CAFE,EAFZ,GAQF,IAAKjB,CAAAA,yBAAL,CACE,GAAImB,CAAAA,iBAAiB,CAAGZ,KAAK,CAACH,UAAN,CAAiBO,IAAjB,CAAsBC,GAAtB,CAA0B,SAAAC,OAAO,CAAI,CAE3D,GAAIA,OAAO,CAACI,EAAR,GAAeT,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoB,cAApB,EAAoC,YAApC,CAAnB,CACE,wBAAWE,OAAX,EAAoBC,KAAK,8BAAMD,OAAO,CAACC,KAAR,EAAiB,EAAvB,GAA2BN,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoBK,IAA/C,EAAzB,GAEF,MAAOH,CAAAA,OAAP,CACD,CANuB,CAAxB,CASA,wBAAaN,KAAb,EAAoBH,UAAU,kBAAMG,KAAK,CAACH,UAAZ,EAAwBO,IAAI,CAAEQ,iBAA9B,EAA9B,GAGF,IAAKlB,CAAAA,2BAAL,CACE,GAAImB,CAAAA,oBAAoB,CAAGb,KAAK,CAACH,UAAN,CAAiBO,IAAjB,CAAsBC,GAAtB,CAA0B,SAAAC,OAAO,CAAI,CAE9D,GAAIA,OAAO,CAACI,EAAR,EAAcT,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoB,YAApB,CAAlB,CAAqD,CACnD,wBAAWE,OAAX,EAAoBC,KAAK,CAAED,OAAO,CAACC,KAAR,CAAcC,MAAd,CAAqB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,EAAL,EAAWT,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoB,SAApB,CAAf,EAAzB,CAA3B,GACD,CAED,MAAOE,CAAAA,OAAP,CACD,CAP0B,CAA3B,CAQA,wBAAYN,KAAZ,EAAmBH,UAAU,kBAAMG,KAAK,CAACH,UAAZ,EAAwBO,IAAI,CAAES,oBAA9B,EAA7B,GAGF,QAAS,MAAOb,CAAAA,KAAP,CA9DX,CAgED,CAjEM","sourcesContent":["import { \r\n  PUT_GOTTEN_USER_PROJECTS,\r\n  PUT_GOTTEN_OTHER_PROJECTS,\r\n  PUT_CREATED_USER_PROJECT,\r\n  PUT_DELETED_USER_PROJECT,\r\n  PUT_ADDED_USER_IN_PROJECT,\r\n  PUT_DELETED_USER_IN_PROJECT,\r\n} from './actions';\r\n\r\nimport store from '../index';\r\n\r\nconst initialState = {\r\n  myProjects: {},\r\n  otherProjects: {}\r\n};\r\n\r\nexport const projectsReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case PUT_GOTTEN_USER_PROJECTS: \r\n      return ({ \r\n        ...state,\r\n        myProjects: action.payload\r\n      });\r\n    \r\n    case PUT_GOTTEN_OTHER_PROJECTS: \r\n      return ({ \r\n        otherProjects: {\r\n          ...action.payload, \r\n          data: action.payload.data.map(\r\n            project => {\r\n              return {\r\n                ...project, users: project.users.filter(user => user.id != action.payload.userId)\r\n              }\r\n            }\r\n          )\r\n        }\r\n      });\r\n\r\n    case PUT_CREATED_USER_PROJECT: \r\n      return ({\r\n        ...state,\r\n        myProjects: {...state.myProjects, data: [...state.myProjects.data, action.payload]}\r\n      });\r\n\r\n    case PUT_DELETED_USER_PROJECT: \r\n      return ({\r\n        ...state,\r\n        myProjects: { \r\n          ...state.myProjects, \r\n          data: state.myProjects.data.filter(project => project.id !== action.payload.data.id)\r\n        }\r\n      });\r\n    \r\n    case PUT_ADDED_USER_IN_PROJECT: \r\n      let dataWithAddedUser = state.myProjects.data.map(project => {\r\n        \r\n        if (project.id === action.payload.data['project_user']['project_id']) \r\n          return {...project, users: [...project.users || [], action.payload.data.user]}\r\n        \r\n        return project;\r\n      });\r\n    \r\n\r\n      return ({ ...state, myProjects: {...state.myProjects, data: dataWithAddedUser}});\r\n     \r\n\r\n    case PUT_DELETED_USER_IN_PROJECT: \r\n      let dataWithOutAddedUser = state.myProjects.data.map(project => {\r\n        \r\n        if (project.id == action.payload.data['project_id']) {\r\n          return {...project, users: project.users.filter(user => user.id != action.payload.data['user_id'])}\r\n        }\r\n        \r\n        return project;\r\n      });\r\n      return ({...state, myProjects: {...state.myProjects, data: dataWithOutAddedUser}});\r\n\r\n    \r\n    default: return state;  \r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}
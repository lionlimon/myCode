{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(workerGetComponents),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(workerCreateComponent),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(workerDeleteComponent),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(watchGetComponents),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(wathcCreateComponent),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(wathcDeletedComponent);import{takeEvery,put,call}from'redux-saga/effects';import{GET_COMPONENTS,CREATE_COMPONENT,DELETE_COMPONENT,putDeletedComponent,putGottenComponents,putCreatedComponent}from'./actions';import{putAddedComponenInProject,putDeletedComponenInProject}from'../projects/actions';import fetchWithAuth from'../fetchWithAuth';import*as config from'../config';import{addNotify}from'../notify/actions';import store from'../index';// Workers\nfunction workerGetComponents(action){var response;return _regeneratorRuntime.wrap(function workerGetComponents$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchWithAuth(\"\".concat(config.URL_COMPONENT_API,\"/project\").concat(action.payload));case 2:response=_context.sent;if(!(response&&response.success===true)){_context.next=8;break;}_context.next=6;return put(putGottenComponents(response));case 6:_context.next=10;break;case 8:_context.next=10;return put(addNotify({message:response.message}));case 10:case\"end\":return _context.stop();}}},_marked);}function workerCreateComponent(action){var response;return _regeneratorRuntime.wrap(function workerCreateComponent$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchWithAuth(config.URL_COMPONENT_API,'POST',action.payload);case 2:response=_context2.sent;if(!(response&&response.success===true)){_context2.next=8;break;}_context2.next=6;return put(putAddedComponenInProject(response));case 6:_context2.next=10;break;case 8:_context2.next=10;return put(addNotify({message:response.message}));case 10:case\"end\":return _context2.stop();}}},_marked2);}function workerDeleteComponent(action){var response;return _regeneratorRuntime.wrap(function workerDeleteComponent$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetchWithAuth(\"\".concat(config.URL_COMPONENT_API,\"/\").concat(action.payload),'DELETE');case 2:response=_context3.sent;console.log(response);if(!(response&&response.success===true)){_context3.next=9;break;}_context3.next=7;return put(putDeletedComponenInProject(response));case 7:_context3.next=11;break;case 9:_context3.next=11;return put(addNotify({message:'Возникла ошибка на сервере'}));case 11:case\"end\":return _context3.stop();}}},_marked3);}// Watchers \nexport function watchGetComponents(){return _regeneratorRuntime.wrap(function watchGetComponents$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return takeEvery(GET_COMPONENTS,workerGetComponents);case 2:case\"end\":return _context4.stop();}}},_marked4);}export function wathcCreateComponent(){return _regeneratorRuntime.wrap(function wathcCreateComponent$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return takeEvery(CREATE_COMPONENT,workerCreateComponent);case 2:case\"end\":return _context5.stop();}}},_marked5);}export function wathcDeletedComponent(){return _regeneratorRuntime.wrap(function wathcDeletedComponent$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return takeEvery(DELETE_COMPONENT,workerDeleteComponent);case 2:case\"end\":return _context6.stop();}}},_marked6);}","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/store/components/sagas.js"],"names":["workerGetComponents","workerCreateComponent","workerDeleteComponent","watchGetComponents","wathcCreateComponent","wathcDeletedComponent","takeEvery","put","call","GET_COMPONENTS","CREATE_COMPONENT","DELETE_COMPONENT","putDeletedComponent","putGottenComponents","putCreatedComponent","putAddedComponenInProject","putDeletedComponenInProject","fetchWithAuth","config","addNotify","store","action","URL_COMPONENT_API","payload","response","success","message","console","log"],"mappings":"0OAmBUA,mB,iDAYAC,qB,iDAUAC,qB,iDAYOC,kB,iDAIAC,oB,iDAIAC,qB,EA7DjB,OAAQC,SAAR,CAAmBC,GAAnB,CAAwBC,IAAxB,KAAmC,oBAAnC,CACA,OACEC,cADF,CAEEC,gBAFF,CAGEC,gBAHF,CAIEC,mBAJF,CAKEC,mBALF,CAMEC,mBANF,KAOO,WAPP,CASA,OAAQC,yBAAR,CAAmCC,2BAAnC,KAAqE,qBAArE,CAEA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,WAAxB,CACA,OAASC,SAAT,KAA0B,mBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CAEA;AAEA,QAAUpB,CAAAA,mBAAV,CAA8BqB,MAA9B,2JAEkB,MAAMJ,CAAAA,aAAa,WAAIC,MAAM,CAACI,iBAAX,oBAAuCD,MAAM,CAACE,OAA9C,EAAnB,CAFlB,OAEOC,QAFP,oBAIKA,QAAQ,EAAIA,QAAQ,CAACC,OAAT,GAAqB,IAJtC,0CAKI,MAAMlB,CAAAA,GAAG,CAACM,mBAAmB,CAACW,QAAD,CAApB,CAAT,CALJ,sDASI,MAAMjB,CAAAA,GAAG,CAACY,SAAS,CAAC,CAACO,OAAO,CAAEF,QAAQ,CAACE,OAAnB,CAAD,CAAV,CAAT,CATJ,uDAYA,QAAUzB,CAAAA,qBAAV,CAAgCoB,MAAhC,iKAEkB,MAAMJ,CAAAA,aAAa,CAACC,MAAM,CAACI,iBAAR,CAA2B,MAA3B,CAAmCD,MAAM,CAACE,OAA1C,CAAnB,CAFlB,OAEOC,QAFP,qBAIKA,QAAQ,EAAIA,QAAQ,CAACC,OAAT,GAAqB,IAJtC,4CAKI,MAAMlB,CAAAA,GAAG,CAACQ,yBAAyB,CAACS,QAAD,CAA1B,CAAT,CALJ,wDAOI,MAAMjB,CAAAA,GAAG,CAACY,SAAS,CAAC,CAACO,OAAO,CAAEF,QAAQ,CAACE,OAAnB,CAAD,CAAV,CAAT,CAPJ,yDAUA,QAAUxB,CAAAA,qBAAV,CAAgCmB,MAAhC,iKAEkB,MAAMJ,CAAAA,aAAa,WAAIC,MAAM,CAACI,iBAAX,aAAgCD,MAAM,CAACE,OAAvC,EAAkD,QAAlD,CAAnB,CAFlB,OAEOC,QAFP,gBAGEG,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EAHF,KAIKA,QAAQ,EAAIA,QAAQ,CAACC,OAAT,GAAqB,IAJtC,4CAKI,MAAMlB,CAAAA,GAAG,CAACS,2BAA2B,CAACQ,QAAD,CAA5B,CAAT,CALJ,wDAOI,MAAMjB,CAAAA,GAAG,CAACY,SAAS,CAAC,CAACO,OAAO,CAAE,4BAAV,CAAD,CAAV,CAAT,CAPJ,yDAUA;AAEA,MAAO,SAAUvB,CAAAA,kBAAV,kJACL,MAAMG,CAAAA,SAAS,CAACG,cAAD,CAAiBT,mBAAjB,CAAf,CADK,wDAIP,MAAO,SAAUI,CAAAA,oBAAV,oJACL,MAAME,CAAAA,SAAS,CAACI,gBAAD,CAAmBT,qBAAnB,CAAf,CADK,wDAIP,MAAO,SAAUI,CAAAA,qBAAV,qJACL,MAAMC,CAAAA,SAAS,CAACK,gBAAD,CAAmBT,qBAAnB,CAAf,CADK","sourcesContent":["import {takeEvery, put, call} from 'redux-saga/effects';\r\nimport {\r\n  GET_COMPONENTS,\r\n  CREATE_COMPONENT, \r\n  DELETE_COMPONENT,\r\n  putDeletedComponent,\r\n  putGottenComponents,\r\n  putCreatedComponent\r\n} from './actions';\r\n\r\nimport {putAddedComponenInProject, putDeletedComponenInProject} from '../projects/actions';\r\n\r\nimport fetchWithAuth from '../fetchWithAuth';\r\nimport * as config from '../config';\r\nimport { addNotify } from '../notify/actions';\r\nimport store from '../index';\r\n\r\n// Workers\r\n\r\nfunction* workerGetComponents(action) {\r\n  \r\n\tconst response = yield fetchWithAuth(`${config.URL_COMPONENT_API}/project${action.payload}`);\r\n\r\n\tif (response && response.success === true) {\r\n    yield put(putGottenComponents(response));\r\n  }\r\n    \r\n  else \r\n    yield put(addNotify({message: response.message}));\r\n}\r\n\r\nfunction* workerCreateComponent(action) {\r\n  \r\n\tconst response = yield fetchWithAuth(config.URL_COMPONENT_API, 'POST', action.payload);\r\n\r\n\tif (response && response.success === true) \t\r\n    yield put(putAddedComponenInProject(response));\r\n  else \r\n    yield put(addNotify({message: response.message}));\r\n}\r\n\r\nfunction* workerDeleteComponent(action) {\r\n  \r\n\tconst response = yield fetchWithAuth(`${config.URL_COMPONENT_API}/${action.payload}`, 'DELETE');\r\n  console.log(response)\r\n\tif (response && response.success === true) \t\r\n    yield put(putDeletedComponenInProject(response));\r\n  else \r\n    yield put(addNotify({message: 'Возникла ошибка на сервере'}));\r\n}\r\n\r\n// Watchers \r\n\r\nexport function* watchGetComponents() {\r\n  yield takeEvery(GET_COMPONENTS, workerGetComponents);\r\n}\r\n\r\nexport function* wathcCreateComponent() {\r\n  yield takeEvery(CREATE_COMPONENT, workerCreateComponent);\r\n}\r\n\r\nexport function* wathcDeletedComponent() {\r\n  yield takeEvery(DELETE_COMPONENT, workerDeleteComponent);\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { PUT_GOTTEN_USER_PROJECTS, PUT_GOTTEN_OTHER_PROJECTS, PUT_CREATED_USER_PROJECT, PUT_DELETED_USER_PROJECT, PUT_ADDED_USER_IN_PROJECT, PUT_DELETED_USER_IN_PROJECT } from './actions';\nimport store from '../index';\nconst initialState = {\n  myProjects: {},\n  otherProjects: {}\n};\nexport const projectsReduser = (state = initialState, action) => {\n  switch (action.type) {\n    case PUT_GOTTEN_USER_PROJECTS:\n      return { ...state,\n        myProjects: action.payload\n      };\n\n    case PUT_GOTTEN_OTHER_PROJECTS:\n      return {\n        otherProjects: { ...state.otherProjects,\n          data: action.payload.data.map(project => {\n            return { ...project,\n              users: [...project.users.filter(user => user.id != action.payload.userId)]\n            };\n          })\n        }\n      };\n\n    case PUT_CREATED_USER_PROJECT:\n      return { ...state,\n        myProjects: { ...state.myProjects,\n          data: [...state.myProjects.data, action.payload]\n        }\n      };\n\n    case PUT_DELETED_USER_PROJECT:\n      return { ...state,\n        myProjects: { ...state.myProjects,\n          data: state.myProjects.data.filter(project => project.id !== action.payload.data.id)\n        }\n      };\n\n    case PUT_ADDED_USER_IN_PROJECT:\n      let dataWithAddedUser = state.myProjects.data.map(project => {\n        if (project.id === action.payload.data['project_user']['project_id']) return { ...project,\n          users: [...(project.users || []), action.payload.data.user]\n        };\n        return project;\n      });\n      return { ...state,\n        myProjects: { ...state.myProjects,\n          data: dataWithAddedUser\n        }\n      };\n\n    case PUT_DELETED_USER_IN_PROJECT:\n      let dataWithOutAddedUser = state.myProjects.data.map(project => {\n        if (project.id == action.payload.data['project_id']) {\n          return { ...project,\n            users: project.users.filter(user => user.id != action.payload.data['user_id'])\n          };\n        }\n\n        return project;\n      });\n      return { ...state,\n        myProjects: { ...state.myProjects,\n          data: dataWithOutAddedUser\n        }\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/store/projects/reducers.js"],"names":["PUT_GOTTEN_USER_PROJECTS","PUT_GOTTEN_OTHER_PROJECTS","PUT_CREATED_USER_PROJECT","PUT_DELETED_USER_PROJECT","PUT_ADDED_USER_IN_PROJECT","PUT_DELETED_USER_IN_PROJECT","store","initialState","myProjects","otherProjects","projectsReduser","state","action","type","payload","data","map","project","users","filter","user","id","userId","dataWithAddedUser","dataWithOutAddedUser"],"mappings":"AAAA,SACEA,wBADF,EAEEC,yBAFF,EAGEC,wBAHF,EAIEC,wBAJF,EAKEC,yBALF,EAMEC,2BANF,QAOO,WAPP;AASA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,UAAU,EAAE,EADO;AAEnBC,EAAAA,aAAa,EAAE;AAFI,CAArB;AAKA,OAAO,MAAMC,eAAe,GAAG,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAkC;AAC/D,UAAQA,MAAM,CAACC,IAAf;AAEE,SAAKb,wBAAL;AACE,aAAQ,EACN,GAAGW,KADG;AAENH,QAAAA,UAAU,EAAEI,MAAM,CAACE;AAFb,OAAR;;AAKF,SAAKb,yBAAL;AACE,aAAQ;AACNQ,QAAAA,aAAa,EAAE,EACb,GAAGE,KAAK,CAACF,aADI;AAEbM,UAAAA,IAAI,EAAEH,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoBC,GAApB,CACJC,OAAO,IAAI;AACT,mBAAO,EACL,GAAGA,OADE;AAELC,cAAAA,KAAK,EAAE,CACL,GAAGD,OAAO,CAACC,KAAR,CAAcC,MAAd,CAAqBC,IAAI,IAAIA,IAAI,CAACC,EAAL,IAAWT,MAAM,CAACE,OAAP,CAAeQ,MAAvD,CADE;AAFF,aAAP;AAMD,WARG;AAFO;AADT,OAAR;;AAgBF,SAAKpB,wBAAL;AACE,aAAQ,EACN,GAAGS,KADG;AAENH,QAAAA,UAAU,EAAE,EAAC,GAAGG,KAAK,CAACH,UAAV;AAAsBO,UAAAA,IAAI,EAAE,CAAC,GAAGJ,KAAK,CAACH,UAAN,CAAiBO,IAArB,EAA2BH,MAAM,CAACE,OAAlC;AAA5B;AAFN,OAAR;;AAKF,SAAKX,wBAAL;AACE,aAAQ,EACN,GAAGQ,KADG;AAENH,QAAAA,UAAU,EAAE,EACV,GAAGG,KAAK,CAACH,UADC;AAEVO,UAAAA,IAAI,EAAEJ,KAAK,CAACH,UAAN,CAAiBO,IAAjB,CAAsBI,MAAtB,CAA6BF,OAAO,IAAIA,OAAO,CAACI,EAAR,KAAeT,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoBM,EAA3E;AAFI;AAFN,OAAR;;AAQF,SAAKjB,yBAAL;AACE,UAAImB,iBAAiB,GAAGZ,KAAK,CAACH,UAAN,CAAiBO,IAAjB,CAAsBC,GAAtB,CAA0BC,OAAO,IAAI;AAE3D,YAAIA,OAAO,CAACI,EAAR,KAAeT,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoB,cAApB,EAAoC,YAApC,CAAnB,EACE,OAAO,EAAC,GAAGE,OAAJ;AAAaC,UAAAA,KAAK,EAAE,CAAC,IAAGD,OAAO,CAACC,KAAR,IAAiB,EAApB,CAAD,EAAyBN,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoBK,IAA7C;AAApB,SAAP;AAEF,eAAOH,OAAP;AACD,OANuB,CAAxB;AASA,aAAQ,EAAE,GAAGN,KAAL;AAAYH,QAAAA,UAAU,EAAE,EAAC,GAAGG,KAAK,CAACH,UAAV;AAAsBO,UAAAA,IAAI,EAAEQ;AAA5B;AAAxB,OAAR;;AAGF,SAAKlB,2BAAL;AACE,UAAImB,oBAAoB,GAAGb,KAAK,CAACH,UAAN,CAAiBO,IAAjB,CAAsBC,GAAtB,CAA0BC,OAAO,IAAI;AAE9D,YAAIA,OAAO,CAACI,EAAR,IAAcT,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoB,YAApB,CAAlB,EAAqD;AACnD,iBAAO,EAAC,GAAGE,OAAJ;AAAaC,YAAAA,KAAK,EAAED,OAAO,CAACC,KAAR,CAAcC,MAAd,CAAqBC,IAAI,IAAIA,IAAI,CAACC,EAAL,IAAWT,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoB,SAApB,CAAxC;AAApB,WAAP;AACD;;AAED,eAAOE,OAAP;AACD,OAP0B,CAA3B;AAQA,aAAQ,EAAC,GAAGN,KAAJ;AAAWH,QAAAA,UAAU,EAAE,EAAC,GAAGG,KAAK,CAACH,UAAV;AAAsBO,UAAAA,IAAI,EAAES;AAA5B;AAAvB,OAAR;;AAGF;AAAS,aAAOb,KAAP;AAjEX;AAmED,CApEM","sourcesContent":["import { \r\n  PUT_GOTTEN_USER_PROJECTS,\r\n  PUT_GOTTEN_OTHER_PROJECTS,\r\n  PUT_CREATED_USER_PROJECT,\r\n  PUT_DELETED_USER_PROJECT,\r\n  PUT_ADDED_USER_IN_PROJECT,\r\n  PUT_DELETED_USER_IN_PROJECT,\r\n} from './actions';\r\n\r\nimport store from '../index';\r\n\r\nconst initialState = {\r\n  myProjects: {},\r\n  otherProjects: {}\r\n};\r\n\r\nexport const projectsReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case PUT_GOTTEN_USER_PROJECTS: \r\n      return ({ \r\n        ...state,\r\n        myProjects: action.payload\r\n      });\r\n    \r\n    case PUT_GOTTEN_OTHER_PROJECTS: \r\n      return ({ \r\n        otherProjects: {\r\n          ...state.otherProjects, \r\n          data: action.payload.data.map(\r\n            project => {\r\n              return {\r\n                ...project, \r\n                users: [\r\n                  ...project.users.filter(user => user.id != action.payload.userId)\r\n                ]\r\n              }\r\n            }\r\n          )\r\n        }\r\n      });\r\n\r\n    case PUT_CREATED_USER_PROJECT: \r\n      return ({\r\n        ...state,\r\n        myProjects: {...state.myProjects, data: [...state.myProjects.data, action.payload]}\r\n      });\r\n\r\n    case PUT_DELETED_USER_PROJECT: \r\n      return ({\r\n        ...state,\r\n        myProjects: { \r\n          ...state.myProjects, \r\n          data: state.myProjects.data.filter(project => project.id !== action.payload.data.id)\r\n        }\r\n      });\r\n    \r\n    case PUT_ADDED_USER_IN_PROJECT: \r\n      let dataWithAddedUser = state.myProjects.data.map(project => {\r\n        \r\n        if (project.id === action.payload.data['project_user']['project_id']) \r\n          return {...project, users: [...project.users || [], action.payload.data.user]}\r\n        \r\n        return project;\r\n      });\r\n    \r\n\r\n      return ({ ...state, myProjects: {...state.myProjects, data: dataWithAddedUser}});\r\n     \r\n\r\n    case PUT_DELETED_USER_IN_PROJECT: \r\n      let dataWithOutAddedUser = state.myProjects.data.map(project => {\r\n        \r\n        if (project.id == action.payload.data['project_id']) {\r\n          return {...project, users: project.users.filter(user => user.id != action.payload.data['user_id'])}\r\n        }\r\n        \r\n        return project;\r\n      });\r\n      return ({...state, myProjects: {...state.myProjects, data: dataWithOutAddedUser}});\r\n\r\n    \r\n    default: return state;  \r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}
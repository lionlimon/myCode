{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\limon\\\\Desktop\\\\my projects\\\\myCode\\\\myCode.React\\\\my_code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import Sidebar from'../Sidebar/Sidebar';import CreateComponentForm from'./CreateComponentForm';import Empty from'../Empty/Empty';import Loader from'../UI/Loader/Loader';import{matchPath,Switch,Route,NavLink}from'react-router-dom';import Snippets from'./Snippets';import Editor from'../Editor/Editor';import BackLink from'../UI/BackLink/BackLink';import DeleteForm from'../DeleteForm';var Project=/*#__PURE__*/function(_Component){_inherits(Project,_Component);var _super=_createSuper(Project);function Project(props){var _this;_classCallCheck(this,Project);_this=_super.call(this,props);_this.state={sidebarIsOpen:true};_this.openCreateComponentForm=_this.openCreateComponentForm.bind(_assertThisInitialized(_this));_this.onClickSaveButton=_this.onClickSaveButton.bind(_assertThisInitialized(_this));_this.onComponentDelete=_this.onComponentDelete.bind(_assertThisInitialized(_this));_this.match=matchPath(props.location.pathname,{path:'/project:projectId'});return _this;}_createClass(Project,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.currentProject.data===undefined)this.props.getProjectById(this.match.params.projectId);if(this.props.components.componentsList.data===undefined)this.props.getComponents(this.match.params.projectId);}},{key:\"toggleSidebar\",value:function toggleSidebar(){this.setState({sidebarIsOpen:!this.state.sidebarIsOpen});}},{key:\"onClickSaveButton\",value:function onClickSaveButton(_ref){var data=_ref.data,snippetId=_ref.snippetId;this.props.updateSnippet({data:data,snippetId:snippetId});}},{key:\"onComponentDelete\",value:function onComponentDelete(id){var _this2=this;this.props.openPopup(/*#__PURE__*/React.createElement(DeleteForm,{onClickCancel:this.props.closePopup,onClickDelete:function onClickDelete(){_this2.props.deleteComponent(id);_this2.props.closePopup();}},\"\\u0412\\u044B \\u0442\\u043E\\u0447\\u043D\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043A\\u043E\\u043C\\u043F\\u043E\\u043D\\u0435\\u043D\\u0442 \\u0438\\u0437 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430?\"));}},{key:\"openCreateComponentForm\",value:function openCreateComponentForm(){this.props.openPopup(/*#__PURE__*/React.createElement(CreateComponentForm,{closePopup:this.props.closePopup,addNotify:this.props.addNotify,createComponent:this.props.createComponent,projectId:this.match.params.projectId}));}},{key:\"render\",value:function render(){var _this$props$currentPr,_this$props$currentPr2;var contentClass=this.state.sidebarIsOpen?'content':'content hidden-side';return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Sidebar,{onComponentDelete:this.onComponentDelete,toggleSidebar:this.toggleSidebar.bind(this),isOpen:this.state.sidebarIsOpen,currentProject:this.props.currentProject,menuItems:this.props.currentProject.projectStructure,openCreateComponentForm:this.openCreateComponentForm,projectId:this.match.params.projectId}),/*#__PURE__*/React.createElement(\"div\",{className:contentClass},this.props.components.componentsList.data===undefined&&/*#__PURE__*/React.createElement(Loader,null),((_this$props$currentPr=this.props.currentProject)===null||_this$props$currentPr===void 0?void 0:(_this$props$currentPr2=_this$props$currentPr.projectStructure)===null||_this$props$currentPr2===void 0?void 0:_this$props$currentPr2.length)==0&&/*#__PURE__*/React.createElement(Empty,null,\"\\u0412 \\u044D\\u0442\\u043E\\u043C \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0435 \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u043A\\u043E\\u043C\\u043F\\u043E\\u043D\\u0435\\u043D\\u0442\\u043E\\u0432\"),/*#__PURE__*/React.createElement(BackLink,null),/*#__PURE__*/React.createElement(Route,{path:\"/project:projectId/component:componentId\"},/*#__PURE__*/React.createElement(Snippets,this.props)),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/project:projectId/component:componentId/snippet:snippetId\"},/*#__PURE__*/React.createElement(Editor,Object.assign({onClickSaveButton:this.onClickSaveButton},this.props)))));}}]);return Project;}(Component);export default Project;","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/components/Project/Project.jsx"],"names":["React","Component","Fragment","Sidebar","CreateComponentForm","Empty","Loader","matchPath","Switch","Route","NavLink","Snippets","Editor","BackLink","DeleteForm","Project","props","state","sidebarIsOpen","openCreateComponentForm","bind","onClickSaveButton","onComponentDelete","match","location","pathname","path","currentProject","data","undefined","getProjectById","params","projectId","components","componentsList","getComponents","setState","snippetId","updateSnippet","id","openPopup","closePopup","deleteComponent","addNotify","createComponent","contentClass","toggleSidebar","projectStructure","length"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport Sidebar from '../Sidebar/Sidebar';\r\nimport CreateComponentForm from './CreateComponentForm';\r\nimport Empty from '../Empty/Empty';\r\nimport Loader from '../UI/Loader/Loader';\r\nimport {matchPath, Switch, Route, NavLink} from 'react-router-dom';\r\nimport Snippets from './Snippets';\r\nimport Editor from '../Editor/Editor';\r\nimport BackLink from '../UI/BackLink/BackLink';\r\nimport DeleteForm from '../DeleteForm';\r\n\r\nclass Project extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      sidebarIsOpen: true,\r\n    }\r\n\r\n    this.openCreateComponentForm = this.openCreateComponentForm.bind(this);\r\n    this.onClickSaveButton = this.onClickSaveButton.bind(this);\r\n    this.onComponentDelete = this.onComponentDelete.bind(this);\r\n\r\n    this.match = matchPath(props.location.pathname, {\r\n      path: '/project:projectId'\r\n    });\r\n\r\n\r\n  }\r\n  \r\n  componentDidMount() {\r\n\r\n    if (this.props.currentProject.data === undefined)\r\n      this.props.getProjectById(this.match.params.projectId);\r\n\r\n    if (this.props.components.componentsList.data === undefined)\r\n      this.props.getComponents(this.match.params.projectId);\r\n  }\r\n\r\n  \r\n  toggleSidebar() {\r\n    this.setState({ sidebarIsOpen: !this.state.sidebarIsOpen });\r\n  }\r\n\r\n  onClickSaveButton({data, snippetId}) {\r\n    \r\n    this.props.updateSnippet({data, snippetId});\r\n  }\r\n\r\n  onComponentDelete(id) {\r\n    this.props.openPopup(\r\n      <DeleteForm \r\n        onClickCancel={this.props.closePopup}\r\n        onClickDelete={() => {\r\n          this.props.deleteComponent(id);\r\n          this.props.closePopup();\r\n        }}\r\n      >\r\n        Вы точно хотите удалить компонент из проекта?\r\n      </DeleteForm>  \r\n    );\r\n  }\r\n\r\n  openCreateComponentForm() {\r\n    this.props.openPopup(\r\n      <CreateComponentForm \r\n        closePopup={this.props.closePopup}\r\n        addNotify={this.props.addNotify}\r\n        createComponent={this.props.createComponent}\r\n        projectId={this.match.params.projectId}\r\n      />\r\n    );\r\n    \r\n  }\r\n\r\n  render() {\r\n    const contentClass = this.state.sidebarIsOpen ? 'content' : 'content hidden-side';\r\n    return (\r\n      <Fragment>\r\n        <Sidebar \r\n          onComponentDelete={this.onComponentDelete}\r\n          toggleSidebar={this.toggleSidebar.bind(this)} \r\n          isOpen={this.state.sidebarIsOpen} \r\n          currentProject={this.props.currentProject}\r\n          menuItems={this.props.currentProject.projectStructure} \r\n          openCreateComponentForm={this.openCreateComponentForm}\r\n          projectId={this.match.params.projectId}\r\n        />\r\n        <div className={contentClass}>\r\n          {this.props.components.componentsList.data === undefined && <Loader />}\r\n          {this.props.currentProject?.projectStructure?.length == 0 && \r\n            <Empty>В этом проекте пока нет компонентов</Empty>}\r\n\r\n\r\n          <BackLink />\r\n          <Route path=\"/project:projectId/component:componentId\">\r\n            <Snippets {...this.props} />\r\n          </Route>\r\n          <Route exact path=\"/project:projectId/component:componentId/snippet:snippetId\">\r\n            <Editor onClickSaveButton={this.onClickSaveButton} {...this.props} />\r\n          </Route>\r\n\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Project;"]},"metadata":{},"sourceType":"module"}
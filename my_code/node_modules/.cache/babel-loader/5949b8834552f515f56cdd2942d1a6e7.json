{"ast":null,"code":"import store from './index';\nexport default function fetchWithAuth(url, method = 'GET', data = undefined) {\n  const USER_TOKEN = store.getState().auth.token;\n  return fetch(config.URL_PROJECT_API, {\n    method: 'GET',\n    body: data ? undefined : JSON.stringify(data),\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'Authorization': `Bearer ${USER_TOKEN}`\n    }\n  }).then(response => response.status === 404 || response.ok ? response.json() : Promise.reject(response)).catch(e => console.error(e));\n}","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/store/fetchWithAuth.js"],"names":["store","fetchWithAuth","url","method","data","undefined","USER_TOKEN","getState","auth","token","fetch","config","URL_PROJECT_API","body","JSON","stringify","headers","then","response","status","ok","json","Promise","reject","catch","e","console","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,SAAlB;AAEA,eAAe,SAASC,aAAT,CAAuBC,GAAvB,EAA4BC,MAAM,GAAG,KAArC,EAA4CC,IAAI,GAAGC,SAAnD,EAA8D;AAC3E,QAAMC,UAAU,GAAGN,KAAK,CAACO,QAAN,GAAiBC,IAAjB,CAAsBC,KAAzC;AAEA,SAAOC,KAAK,CAACC,MAAM,CAACC,eAAR,EAAyB;AACnCT,IAAAA,MAAM,EAAE,KAD2B;AAEnCU,IAAAA,IAAI,EAAET,IAAI,GAAGC,SAAH,GAAeS,IAAI,CAACC,SAAL,CAAeX,IAAf,CAFU;AAGnCY,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB,mCAFT;AAGP,uBAAkB,UAASV,UAAW;AAH/B;AAH0B,GAAzB,CAAL,CASJW,IATI,CASCC,QAAQ,IAAIA,QAAQ,CAACC,MAAT,KAAoB,GAApB,IAA2BD,QAAQ,CAACE,EAApC,GAAyCF,QAAQ,CAACG,IAAT,EAAzC,GAA2DC,OAAO,CAACC,MAAR,CAAeL,QAAf,CATxE,EAUJM,KAVI,CAUGC,CAAD,IAAOC,OAAO,CAACC,KAAR,CAAcF,CAAd,CAVT,CAAP;AAWD","sourcesContent":["import store from './index';\r\n\r\nexport default function fetchWithAuth(url, method = 'GET', data = undefined) {\r\n  const USER_TOKEN = store.getState().auth.token;\r\n\r\n  return fetch(config.URL_PROJECT_API, { \r\n    method: 'GET', \r\n    body: data ? undefined : JSON.stringify(data),\r\n    headers: {      \r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n      'Authorization': `Bearer ${USER_TOKEN}`\r\n    },\r\n  })\r\n    .then(response => response.status === 404 || response.ok ? response.json() : Promise.reject(response))\r\n    .catch((e) => console.error(e));\r\n}"]},"metadata":{},"sourceType":"module"}
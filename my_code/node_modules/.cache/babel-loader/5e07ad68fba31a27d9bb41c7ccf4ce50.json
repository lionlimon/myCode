{"ast":null,"code":"import store from'./index';export default function fetchWithAuth(url){var method=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'GET';var data=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;var USER_TOKEN=store.getState().auth.token;return fetch(url,{method:method,body:JSON.stringify(data),headers:{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(USER_TOKEN)}}).then(function(response){return response.status===404||response.ok?response.json():Promise.reject(response);}).catch(function(e){return console.error(e);});}","map":{"version":3,"sources":["C:/Users/limon/Desktop/my projects/myCode/myCode.React/my_code/src/store/fetchWithAuth.js"],"names":["store","fetchWithAuth","url","method","data","undefined","USER_TOKEN","getState","auth","token","fetch","body","JSON","stringify","headers","then","response","status","ok","json","Promise","reject","catch","e","console","error"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,SAAlB,CAEA,cAAe,SAASC,CAAAA,aAAT,CAAuBC,GAAvB,CAA8D,IAAlCC,CAAAA,MAAkC,2DAAzB,KAAyB,IAAlBC,CAAAA,IAAkB,2DAAXC,SAAW,CAC3E,GAAMC,CAAAA,UAAU,CAAGN,KAAK,CAACO,QAAN,GAAiBC,IAAjB,CAAsBC,KAAzC,CAEA,MAAOC,CAAAA,KAAK,CAACR,GAAD,CAAM,CAChBC,MAAM,CAAEA,MADQ,CAEhBQ,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf,CAFU,CAGhBU,OAAO,CAAE,CACP,SAAU,kBADH,CAEP,eAAgB,kBAFT,CAGP,iCAA2BR,UAA3B,CAHO,CAHO,CAAN,CAAL,CASJS,IATI,CASC,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,MAAT,GAAoB,GAApB,EAA2BD,QAAQ,CAACE,EAApC,CAAyCF,QAAQ,CAACG,IAAT,EAAzC,CAA2DC,OAAO,CAACC,MAAR,CAAeL,QAAf,CAA/D,EATT,EAUJM,KAVI,CAUE,SAACC,CAAD,QAAOC,CAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd,CAAP,EAVF,CAAP,CAWD","sourcesContent":["import store from './index';\r\n\r\nexport default function fetchWithAuth(url, method = 'GET', data = undefined) {\r\n  const USER_TOKEN = store.getState().auth.token;\r\n\r\n  return fetch(url, { \r\n    method: method, \r\n    body: JSON.stringify(data),\r\n    headers: {      \r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${USER_TOKEN}`\r\n    },\r\n  })\r\n    .then(response => response.status === 404 || response.ok ? response.json() : Promise.reject(response))\r\n    .catch((e) => console.error(e));\r\n}"]},"metadata":{},"sourceType":"module"}